{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import * as React from 'react';\nimport './image-marker.scss';\n\ntype Marker = {\n    top: Number;\n    left: Number;\n};\n\ntype Props = {\n    src: string;\n    markers: Array<Marker>;\n    onAddMarker: (marker: Marker) => void;\n};\nconst ImageMarker: React.FC<Props> = ({ src, markers, onAddMarker }: Props) => {\n    const imageRef = React.useRef<HTMLImageElement>(null);\n    const handleImageClick = (event: React.MouseEvent) => {\n        if (!imageRef.current) {\n            return;\n        }\n        const imageSize = imageRef.current.getBoundingClientRect();\n        const { width, height, top, left } = imageSize;\n        const buffer = 12;\n\n        const pixelsLeft = event.clientX - left;\n        let pixelsTop;\n        if (top < 0) {\n            pixelsTop = event.pageY - window.scrollY + top * -1;\n        } else {\n            pixelsTop = event.pageY - window.scrollY - top;\n        }\n        const position = {\n            top: ((pixelsTop - buffer) * 100) / height,\n            left: ((pixelsLeft - buffer) * 100) / width,\n        };\n        onAddMarker(position);\n    };\n\n    const getItemPosition = (marker: Marker) => {\n        return {\n            top: `${marker.top}%`,\n            left: `${marker.left}%`,\n        };\n    };\n\n    return (\n        <div className=\"image-marker\">\n            <img\n                src={src}\n                alt=\"Blueprint\"\n                onClick={handleImageClick}\n                className=\"image-marker__image\"\n                ref={imageRef}\n            />\n            {markers.map((marker, itemNumber) => (\n                <div\n                    className=\"image-marker__marker\"\n                    style={getItemPosition(marker)}\n                    key={itemNumber}\n                >\n                    {itemNumber + 1}\n                </div>\n            ))}\n        </div>\n    );\n};\n\nexport default ImageMarker;\n"],"names":["React.useRef","React.createElement"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAaA,IAAM,WAAW,GAAoB,UAAC,EAAoC;QAAlC,YAAG,EAAE,oBAAO,EAAE,4BAAW;IAC7D,IAAM,QAAQ,GAAGA,YAAY,CAAmB,IAAI,CAAC,CAAC;IACtD,IAAM,gBAAgB,GAAG,UAAC,KAAuB;QAC7C,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;YACnB,OAAO;SACV;QACD,IAAM,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC;QACnD,IAAA,uBAAK,EAAE,yBAAM,EAAE,mBAAG,EAAE,qBAAI,CAAe;QAC/C,IAAM,MAAM,GAAG,EAAE,CAAC;QAElB,IAAM,UAAU,GAAG,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC;QACxC,IAAI,SAAS,CAAC;QACd,IAAI,GAAG,GAAG,CAAC,EAAE;YACT,SAAS,GAAG,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,OAAO,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;SACvD;aAAM;YACH,SAAS,GAAG,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,OAAO,GAAG,GAAG,CAAC;SAClD;QACD,IAAM,QAAQ,GAAG;YACb,GAAG,EAAE,CAAC,CAAC,SAAS,GAAG,MAAM,IAAI,GAAG,IAAI,MAAM;YAC1C,IAAI,EAAE,CAAC,CAAC,UAAU,GAAG,MAAM,IAAI,GAAG,IAAI,KAAK;SAC9C,CAAC;QACF,WAAW,CAAC,QAAQ,CAAC,CAAC;KACzB,CAAC;IAEF,IAAM,eAAe,GAAG,UAAC,MAAc;QACnC,OAAO;YACH,GAAG,EAAK,MAAM,CAAC,GAAG,MAAG;YACrB,IAAI,EAAK,MAAM,CAAC,IAAI,MAAG;SAC1B,CAAC;KACL,CAAC;IAEF,QACIC,6BAAK,SAAS,EAAC,cAAc;QACzBA,6BACI,GAAG,EAAE,GAAG,EACR,GAAG,EAAC,WAAW,EACf,OAAO,EAAE,gBAAgB,EACzB,SAAS,EAAC,qBAAqB,EAC/B,GAAG,EAAE,QAAQ,GACf;QACD,OAAO,CAAC,GAAG,CAAC,UAAC,MAAM,EAAE,UAAU,IAAK,QACjCA,6BACI,SAAS,EAAC,sBAAsB,EAChC,KAAK,EAAE,eAAe,CAAC,MAAM,CAAC,EAC9B,GAAG,EAAE,UAAU,IAEd,UAAU,GAAG,CAAC,CACb,IACT,CAAC,CACA,EACR;AACN,CAAC,CAAC;;;;"}